
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Jacob Humrich</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link type="text/css" rel="stylesheet" th:href="@{/style.css}"/>
        <script type="text/javascript">
            
            var conditionsMap =  new Map([
                [0, '@{//C0_tornado.png}']
                ]);
            /*, [1, "@{/C1_tropical_storm.png}"], [2, "@{/C2_hurricane.png}"], [3, "@{/C4_thunderstorms.png}"], [4, "@{/C4_thunderstorms.png}"], [5, "@{/C5_rain_snow.png}"], [6, "@{/C5_rain_snow.png}"], [7, "@{/C7_snow_sleet.png}"], [8, "@{/C8_freezing_drizzle.png}"], [9, "@{/C8_freezing_drizzle.png}"], 
                [10, "@{/C10_freezing_rain.png}"], [11, "@{/C11_showers.png}"], [12, "@{/C12_hail.png}"], [13, "@{/C16_snow.png}"], [14, "@{/C16_snow.png}"], [15, "@{/C16_snow.png}"], [16, "@{/C16_snow.png}"], [17, "@{/C17_hail.png}"], [18, "@{/C18_sleet.png}"], [19, "@{/C19_dust.png}"], 
                [20, "@{/C20_foggy.png}"], [21, "@{/C21_haze.png}"], [22, "@{/C22_smoky.png}"], [23, "@{/C23_blustery.png}"], [24, "@{/C24_windy.png}"], [25, "@{/C25_cold.png}"], [26, "@{/C26_cloudy.png}"], [27, "@{/C27_mostly_cloudy_night.png}"], [28, "@{/C28_mostly_cloudy.png}"], [29, "@{/C29_partly_cloudy_night.png}"], 
                [30, "@{/C30_partly_cloudy_day.png}"], [31, "@{/C31_clear_night.png}"], [32, "@{/C32_sunny.png}"], [33, "@{/C31_clear_night.png}"], [34, "@{/C32_sunny.png}"], [35, "@{/C17_hail.png}"], [36, "@{/C36_hot.png}"], [37, "@{/C4_thunderstorms.png}"], [38, "@{/C4_thunderstorms.png}"], [39, "@{/C4_thunderstorms.png}"], 
                [40, "@{/C11_showers.png}"], [41, "@{/C16_snow.png}"], [42, "@{/C16_snow.png}"], [43, "@{/C16_snow.png}"], [44, "@{/C26_cloudy.png}"], [45, "@{/C4_thunderstorms.png}"], [46, "@{/C16_snow.png}"], [47, "@{/C47_isolated_thundershowers.png}"], [3200, "@{/C3200_not_avalible.png}"]);
              */  
            var counter = 0;
            function getWeatherDemo(o){
                var items = o.query.results.channel;
                var currentOut = '';
                var temp = items.item.condition.temp;
                var text = items.item.condition.text;
                var daysInForcast = items.item.forecast.length;
                var location = items.location;
                currentOut += "<h1>" + location.city + ", " + location.region + "</h1>";
                currentOut += "<p>The current conditions are: " + temp + " and "+ text + "</p>";
                var forecastOut = '';
                
                //sets the div for the location and the current 
                var div = document.createElement("div");
                div.setAttribute("id", location.city);
                div.innerHTML = currentOut;
                var main = document.getElementById('forecast');
                main.appendChild(div);
                
                //sets the div for the 10 day forcast for the location
                div = document.createElement("div");
                div.setAttribute("id", "forecast" + location.city);
                
                if(daysInForcast > 5)
                    daysInForcast = 5;
                
                for(var i = 0; i < daysInForcast; i++){
                    var date = items.item.forecast[i].date;
                    var day = items.item.forecast[i].day;
                    var high = items.item.forecast[i].high;
                    var low = items.item.forecast[i].low;
                    var dayDiv = document.createElement("div");
                    var img = document.createElement("img");
                    
                    text = items.item.forecast[i].text;
                    forecastOut = "<h3>" + day + " " + date + "</h3>" + "<p>High of " + high + "&#176" + "</p><p>Low of " + low + "&#176" + "</p><p>" + text + "</p>"; 
                    //img.src = images(items.item.forecast[i].code);
                    img.src = images(0);
                    dayDiv.setAttribute("id", date);
                    dayDiv.setAttribute("class", "date");
                    dayDiv.innerHTML = forecastOut;
                    div.appendChild(dayDiv);
                    
                }
                
                main.appendChild(div);
            }
            
            function images(conditionCodes){
                return conditionsMap.get(conditionCodes);
            }
            
        </script>
    </head>
    
    <body>
        <h1>Welcome to my website.</h1>
        I set this up to showcase some of my skills.
        <div id='forecast'></div>
        <img src="https://s.yimg.com/os/weather/1.0.1/shadow_icon/60x60/mostly_cloudy_day_night@2x.png"/>
                  https://s.yimg.com/os/weather/1.0.1/shadow_icon/60x60/clear_day@2x.png
        <!-- Weather for Strawberry, CA -->
        <script src='https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where woeid="23510249")&format=json&callback=getWeatherDemo'> </script>
        
        <!-- Weather for Bear Valley, CA -->
        <script src='https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where woeid="2360750")&format=json&callback=getWeatherDemo'> </script>
        
        <!-- Weather for Heavenly, CA -->
        <script src='https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where woeid="28718499")&format=json&callback=getWeatherDemo'> </script>
        
        <!-- Weather for Kirkwood, CA -->
        <script src='https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where woeid="2433131")&format=json&callback=getWeatherDemo'> </script>
        
        <!-- Weather for North Star, CA -->
        <script src='https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where woeid="91987108
")&format=json&callback=getWeatherDemo'> </script>
        
        <!-- Weather for Newark, CA -->
        <script src='https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where woeid="2459268
")&format=json&callback=getWeatherDemo'> </script>
    
    </body>
</html>